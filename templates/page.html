<!doctype html>
<html lang="zh">

<head>
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <meta charset="utf-8" />
    <title>å…­æ˜Ÿå¹²å‘˜å¼ºåº¦æŠ•ç¥¨ç®±</title>
</head>

<body onload="new_compare();">
    <div style="text-align: center;">
        <table style="margin: 0 auto;">
            <tr>
                <td><br><br><br><img id="left_png" style="width: 100%;"></td>
                <td>
                    <h1 align="center">æ˜æ—¥æ–¹èˆŸå…­æ˜Ÿ</h1>
                    <h1 align="center">å¼ºåº¦æŠ•ç¥¨ç®±</h1>
                    <h4 align="center">by: è‘£æ­æ­</h4>
                    <div style="text-align: center;">
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        <input type="button" value="ğŸ‘ˆ
ğŸ‘" onclick="save_score_left()" style="margin: 0 auto; font-size: 40px;">
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        <input type="button" value="ğŸ‘‰
ğŸ‘" onclick="save_score_right()" style="margin: 0 auto; font-size: 40px;">
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

                        <br>

                        <h4 id="toupiao_success" align="center" style="font-size: 20px; color: orangered;">&nbsp;</h4>

                        <input type="button" value="æŸ¥çœ‹æŠ•ç¥¨ç»“æœ" onclick="view_final_order()"
                            style="margin: 0 auto; font-size: 20px;">
                    </div>
                </td>
                <td><br><br><br><img id="right_png" style="width: 100%;"></td>
            </tr>
        </table>

        <h2 align="center">V0.1.0 å†…æµ‹ç‰ˆ</h2>
        <h2 align="center">è§„åˆ™ï¼šæ¯æ¬¡æŠ•ç¥¨ï¼Œå¾—ç¥¨+1åˆ†ï¼Œæœªå¾—ç¥¨-1åˆ†ï¼Œæœ€åç»Ÿè®¡æ‰€æœ‰æŠ•ç¥¨å¾—åˆ†ã€‚</h2>
        <h2 align="center" style="color: red;">è­¦å‘Šï¼šæ•°æ®é‡è¿‡å°‘ï¼ˆä½äº1000æ¡ï¼‰æ—¶ï¼Œç»“æœå¯èƒ½è°¬è¯¯ç”šå¤šï¼Œæ¯«æ— å‚è€ƒä»·å€¼ã€‚</h2>
        <h2 id="å·²æ”¶é›†æ•°æ®é‡" align="center">&nbsp;</h2>

            <table id="final_order_table" style="display: none; margin: 0 auto;">
                <thead>
                    <tr>
                        <th>æ¯å‹</th>
                        <th>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspå¹²å‘˜ä»£å·&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp</th>
                        <th>å¾—åˆ†</th>
                    </tr>
                </thead>
                <tbody id="final_order_tbody"></tbody>
            </table>
    </div>



    <script type="text/javascript">
        const dic_pic_url = {
            'çº¯çƒ¬è‰¾é›…æ³•æ‹‰': 'https://prts.wiki/images/b/bd/åŠèº«åƒ_çº¯çƒ¬è‰¾é›…æ³•æ‹‰_1.png',
            'ç³ç…è¯—æ€€é›…': 'https://prts.wiki/images/9/99/åŠèº«åƒ_ç³ç…è¯—æ€€é›…_1.png',
            'æä¸°': 'https://prts.wiki/images/5/51/åŠèº«åƒ_æä¸°_1.png',
            'åœ£çº¦é€è‘¬äºº': 'https://prts.wiki/images/7/71/åŠèº«åƒ_åœ£çº¦é€è‘¬äºº_1.png',
            'ç¼ªå°”èµ›æ€': 'https://prts.wiki/images/4/4a/åŠèº«åƒ_ç¼ªå°”èµ›æ€_1.png',
            'éœå°”æµ·é›…': 'https://prts.wiki/images/5/5a/åŠèº«åƒ_éœå°”æµ·é›…_1.png',
            'æ·¬ç¾½èµ«é»˜': 'https://prts.wiki/images/5/54/åŠèº«åƒ_æ·¬ç¾½èµ«é»˜_1.png',
            'ä¼Šå†…ä¸': 'https://prts.wiki/images/5/59/åŠèº«åƒ_ä¼Šå†…ä¸_1.png',
            'éº’éºŸXå¤œåˆ€': 'https://prts.wiki/images/6/66/åŠèº«åƒ_éº’éºŸXå¤œåˆ€_1.png',
            'ä»‡ç™½': 'https://prts.wiki/images/4/40/åŠèº«åƒ_ä»‡ç™½_1.png',
            'é‡å²³': 'https://prts.wiki/images/e/e5/åŠèº«åƒ_é‡å²³_1.png',
            'æ—': 'https://prts.wiki/images/7/75/åŠèº«åƒ_æ—_1.png',
            'ç„°å½±è‹‡è‰': 'https://prts.wiki/images/a/ae/åŠèº«åƒ_ç„°å½±è‹‡è‰_1.png',
            'ç¼„é»˜å¾·å…‹è¨æ–¯': 'https://prts.wiki/images/0/0d/åŠèº«åƒ_ç¼„é»˜å¾·å…‹è¨æ–¯_1.png',
            'æ–¥ç½ª': 'https://prts.wiki/images/e/e7/åŠèº«åƒ_æ–¥ç½ª_1.png',
            'ä¼ºå¤œ': 'https://prts.wiki/images/f/fc/åŠèº«åƒ_ä¼ºå¤œ_1.png',
            'ç™½é“': 'https://prts.wiki/images/e/e5/åŠèº«åƒ_ç™½é“_1.png',
            'ç›æ©çº³': 'https://prts.wiki/images/b/b1/åŠèº«åƒ_ç›æ©çº³_1.png',
            'ç™¾ç‚¼å˜‰ç»´å°”': 'https://prts.wiki/images/e/ed/åŠèº«åƒ_ç™¾ç‚¼å˜‰ç»´å°”_1.png',
            'é¸¿é›ª': 'https://prts.wiki/images/4/4d/åŠèº«åƒ_é¸¿é›ª_1.png',
            'å¤šèè¥¿': 'https://prts.wiki/images/0/04/åŠèº«åƒ_å¤šèè¥¿_1.png',
            'é»‘é”®': 'https://prts.wiki/images/e/e6/åŠèº«åƒ_é»‘é”®_1.png',
            'å½’æºŸå¹½çµé²¨': 'https://prts.wiki/images/f/f7/åŠèº«åƒ_å½’æºŸå¹½çµé²¨_1.png',
            'è‰¾ä¸½å¦®': 'https://prts.wiki/images/b/bd/åŠèº«åƒ_è‰¾ä¸½å¦®_1.png',
            'æµæ˜': 'https://prts.wiki/images/9/9f/åŠèº«åƒ_æµæ˜_1.png',
            'å·è§’': 'https://prts.wiki/images/8/85/åŠèº«åƒ_å·è§’_1.png',
            'è²äºšæ¢…å¡”': 'https://prts.wiki/images/f/f8/åŠèº«åƒ_è²äºšæ¢…å¡”_1.png',
            'æ¾„é—ª': 'https://prts.wiki/images/1/17/åŠèº«åƒ_æ¾„é—ª_1.png',
            'ä»¤': 'https://prts.wiki/images/d/d6/åŠèº«åƒ_ä»¤_1.png',
            'è€é²¤': 'https://prts.wiki/images/e/e8/åŠèº«åƒ_è€é²¤_1.png',
            'çµçŸ¥': 'https://prts.wiki/images/a/a9/åŠèº«åƒ_çµçŸ¥_1.png',
            'è€€éª‘å£«ä¸´å…‰': 'https://prts.wiki/images/d/db/åŠèº«åƒ_è€€éª‘å£«ä¸´å…‰_1.png',
            'ç„°å°¾': 'https://prts.wiki/images/9/92/åŠèº«åƒ_ç„°å°¾_1.png',
            'è¿œç‰™': 'https://prts.wiki/images/4/4f/åŠèº«åƒ_è¿œç‰™_1.png',
            'ç´æŸ³': 'https://prts.wiki/images/2/28/åŠèº«åƒ_ç´æŸ³_1.png',
            'å‡æ—¥å¨é¾™é™ˆ': 'https://prts.wiki/images/5/51/åŠèº«åƒ_å‡æ—¥å¨é¾™é™ˆ_1.png',
            'æ°´æœˆ': 'https://prts.wiki/images/2/22/åŠèº«åƒ_æ°´æœˆ_1.png',
            'å¸•æ‹‰æ–¯': 'https://prts.wiki/images/7/72/åŠèº«åƒ_å¸•æ‹‰æ–¯_1.png',
            'å¡æ¶…åˆ©å®‰': 'https://prts.wiki/images/3/36/åŠèº«åƒ_å¡æ¶…åˆ©å®‰_1.png',
            'æµŠå¿ƒæ–¯å¡è’‚': 'https://prts.wiki/images/7/7f/åŠèº«åƒ_æµŠå¿ƒæ–¯å¡è’‚_1.png',
            'å‡¯å°”å¸Œ': 'https://prts.wiki/images/c/c0/åŠèº«åƒ_å‡¯å°”å¸Œ_1.png',
            'æ­Œè•¾è’‚å¨…': 'https://prts.wiki/images/3/33/åŠèº«åƒ_æ­Œè•¾è’‚å¨…_1.png',
            'å¼‚å®¢': 'https://prts.wiki/images/d/d3/åŠèº«åƒ_å¼‚å®¢_1.png',
            'ç°çƒ¬': 'https://prts.wiki/images/f/fa/åŠèº«åƒ_ç°çƒ¬_1.png',
            'å¤•': 'https://prts.wiki/images/f/f2/åŠèº«åƒ_å¤•_1.png',
            'åµ¯å³¨': 'https://prts.wiki/images/a/a4/åŠèº«åƒ_åµ¯å³¨_1.png',
            'ç©ºå¼¦': 'https://prts.wiki/images/8/86/åŠèº«åƒ_ç©ºå¼¦_1.png',
            'å±±': 'https://prts.wiki/images/7/7b/åŠèº«åƒ_å±±_1.png',
            'è¿·è¿­é¦™': 'https://prts.wiki/images/9/9a/åŠèº«åƒ_è¿·è¿­é¦™_1.png',
            'æ³¥å²©': 'https://prts.wiki/images/0/08/åŠèº«åƒ_æ³¥å²©_1.png',
            'ç‘•å…‰': 'https://prts.wiki/images/a/a6/åŠèº«åƒ_ç‘•å…‰_1.png',
            'å²å°”ç‰¹å°”': 'https://prts.wiki/images/5/58/åŠèº«åƒ_å²å°”ç‰¹å°”_1.png',
            'æ£®èšº': 'https://prts.wiki/images/4/4a/åŠèº«åƒ_æ£®èšº_1.png',
            'æ£˜åˆº': 'https://prts.wiki/images/0/08/åŠèº«åƒ_æ£˜åˆº_1.png',
            'é“ƒå…°': 'https://prts.wiki/images/f/fe/åŠèº«åƒ_é“ƒå…°_1.png',
            'æ—©éœ²': 'https://prts.wiki/images/9/92/åŠèº«åƒ_æ—©éœ²_1.png',
            'W': 'https://prts.wiki/images/4/45/åŠèº«åƒ_W_1.png',
            'æ¸©è’‚': 'https://prts.wiki/images/5/5f/åŠèº«åƒ_æ¸©è’‚_1.png',
            'å‚€å½±': 'https://prts.wiki/images/a/ad/åŠèº«åƒ_å‚€å½±_1.png',
            'é£ç¬›': 'https://prts.wiki/images/e/ea/åŠèº«åƒ_é£ç¬›_1.png',
            'åˆ»ä¿„æŸ': 'https://prts.wiki/images/6/69/åŠèº«åƒ_åˆ»ä¿„æŸ_1.png',
            'å¹´': 'https://prts.wiki/images/4/4d/åŠèº«åƒ_å¹´_1.png',
            'é˜¿': 'https://prts.wiki/images/7/72/åŠèº«åƒ_é˜¿_1.png',
            'ç…Œ': 'https://prts.wiki/images/1/1c/åŠèº«åƒ_ç…Œ_1.png',
            'è«æ–¯æé©¬': 'https://prts.wiki/images/f/fc/åŠèº«åƒ_è«æ–¯æé©¬_1.png',
            'éº¦å“²ä¼¦': 'https://prts.wiki/images/c/c7/åŠèº«åƒ_éº¦å“²ä¼¦_1.png',
            'èµ«æ‹‰æ ¼': 'https://prts.wiki/images/8/82/åŠèº«åƒ_èµ«æ‹‰æ ¼_1.png',
            'é»‘': 'https://prts.wiki/images/2/23/åŠèº«åƒ_é»‘_1.png',
            'é™ˆ': 'https://prts.wiki/images/e/e1/åŠèº«åƒ_é™ˆ_1.png',
            'æ–¯å¡è’‚': 'https://prts.wiki/images/a/a5/åŠèº«åƒ_æ–¯å¡è’‚_1.png',
            'é“¶ç°': 'https://prts.wiki/images/9/90/åŠèº«åƒ_é“¶ç°_1.png',
            'å¡é›·å¨…': 'https://prts.wiki/images/4/44/åŠèº«åƒ_å¡é›·å¨…_1.png',
            'æ˜Ÿç†Š': 'https://prts.wiki/images/2/22/åŠèº«åƒ_æ˜Ÿç†Š_1.png',
            'å¤œèº': 'https://prts.wiki/images/e/e9/åŠèº«åƒ_å¤œèº_1.png',
            'é—ªçµ': 'https://prts.wiki/images/d/d6/åŠèº«åƒ_é—ªçµ_1.png',
            'å®‰æ´è‰å¨œ': 'https://prts.wiki/images/3/30/åŠèº«åƒ_å®‰æ´è‰å¨œ_1.png',
            'è‰¾é›…æ³•æ‹‰': 'https://prts.wiki/images/3/36/åŠèº«åƒ_è‰¾é›…æ³•æ‹‰_1.png',
            'ä¼ŠèŠ™åˆ©ç‰¹': 'https://prts.wiki/images/2/23/åŠèº«åƒ_ä¼ŠèŠ™åˆ©ç‰¹_1.png',
            'æ¨è¿›ä¹‹ç‹': 'https://prts.wiki/images/9/98/åŠèº«åƒ_æ¨è¿›ä¹‹ç‹_1.png',
            'èƒ½å¤©ä½¿': 'https://prts.wiki/images/2/2e/åŠèº«åƒ_èƒ½å¤©ä½¿_1.png'
        }

        function new_compare() {
            xhr = new XMLHttpRequest();
            xhr.open('GET', 'http://127.0.0.1:9876/new_compare', true);
            xhr.send();

            xhr.onreadystatechange = function () {
                if (xhr.readyState === 4 && xhr.status === 200) {
                    var name = xhr.responseText.split(' ');
                    left_name = name[0]
                    right_name = name[1]
                    document.getElementById("left_png").src = dic_pic_url[left_name];
                    document.getElementById("right_png").src = dic_pic_url[right_name];
                }
            }
        }

        function save_score_left() {
            xhr = new XMLHttpRequest();
            xhr.open('POST', 'http://127.0.0.1:9876/save_score?win_name=' + left_name + '&lose_name=' + right_name, true);
            xhr.send();

            xhr.onreadystatechange = function () {
                if (xhr.readyState === 4 && xhr.status === 200) {
                    document.getElementById("toupiao_success").innerText = "æˆåŠŸæŠ•ç¥¨ç»™ï¼š" + left_name + " !";
                    new_compare()
                }
            }
        }

        function save_score_right() {
            xhr = new XMLHttpRequest();
            xhr.open('POST', 'http://127.0.0.1:9876/save_score?win_name=' + right_name + '&lose_name=' + left_name, true);
            xhr.send();

            xhr.onreadystatechange = function () {
                if (xhr.readyState === 4 && xhr.status === 200) {
                    document.getElementById("toupiao_success").innerText = "æˆåŠŸæŠ•ç¥¨ç»™ï¼š" + right_name + " !";
                    new_compare()
                }
            }
        }

        function view_final_order() {
            xhr = new XMLHttpRequest();
            xhr.open('GET', 'http://127.0.0.1:9876/view_final_order', true);
            xhr.send();

            xhr.onreadystatechange = function () {
                if (xhr.readyState === 4 && xhr.status === 200) {
                    const json = xhr.responseText
                    obj = JSON.parse(json);
                    document.getElementById("å·²æ”¶é›†æ•°æ®é‡").innerText = obj.count;

                    const star6_staff_amount = obj.name.length;
                    const cup_rank = [star6_staff_amount * 0.1, star6_staff_amount * 0.2, star6_staff_amount * 0.3, star6_staff_amount * 0.4, star6_staff_amount * 0.5, star6_staff_amount * 0.6, star6_staff_amount * 0.7]
                    const cup_size = ['åç¿…æ¡¶', 'è¶…å¤§æ¯ä¸Š', 'è¶…å¤§æ¯ä¸­', 'è¶…å¤§æ¯ä¸‹', 'å¤§æ¯ä¸Š', 'å¤§æ¯ä¸­', 'å¤§æ¯ä¸‹', 'ä¸­æ¯'] // å…±åˆ†10æ¡£ï¼Œä½†ä¸­æ¯ä¸å†åŒºåˆ†ä¸Šä¸­ä¸‹

                    var table = document.getElementById("final_order_table")
                    table.style.display = "inline";

                    htmlStr = '';
                    for (let i = 0; i < star6_staff_amount; i++) {
                        var this_rank = i + 1;

                        if (this_rank < cup_rank[0]) { this_size = cup_size[0]; } else 
                        if (this_rank < cup_rank[1]) { this_size = cup_size[1]; } else
                        if (this_rank < cup_rank[2]) { this_size = cup_size[2]; } else
                        if (this_rank < cup_rank[3]) { this_size = cup_size[3]; } else
                        if (this_rank < cup_rank[4]) { this_size = cup_size[4]; } else
                        if (this_rank < cup_rank[5]) { this_size = cup_size[5]; } else
                        if (this_rank < cup_rank[6]) { this_size = cup_size[6]; } else { this_size = cup_size[7]; }

                        htmlStr += "<tr><td>" + this_size + "</td><td>" + obj.name[i] + "</td><td>" + obj.score[i] + "</td></tr>";
                    }
                    document.getElementById("final_order_tbody").innerHTML = htmlStr;
                }
            }
        }

    </script>
</body>

</html>